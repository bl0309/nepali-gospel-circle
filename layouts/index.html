{{ define "main" }}
<div style="background: red; color: white; padding: 1rem; font-size: 1.5rem; text-align: center;">
    DEBUG: Current Language = {{ .Site.Language.Lang }} | Test Translation = "{{ i18n "about_ministry_title" }}"
</div>
<section class="hero" id="home">
    <!-- Background Image Slider -->
    <div class="hero-slider" id="heroSlider">
        <div class="hero-slide active" style="background-image: url('/images/home_img.jpg');"></div>
        <div class="hero-slide" style="background-image: url('/images/home_ps.jpg');"></div>
        <div class="hero-slide" style="background-image: url('/images/home_worship.jpg');"></div>
        <div class="hero-slide" style="background-image: url('/images/leaders/elders.jpg');"></div>
    </div>

    <!-- Hero Content -->
    <div class="hero-content">
        <h2>{{ i18n "join_us_this" }}</h2>
        <h1>{{ i18n "sunday" }}</h1>
        <h1>{{ i18n "time_1pm" }}</h1>
        <p>{{ .Site.Params.description }}</p>
        <div class="cta-buttons">
            <a href="#services" class="btn btn-primary">
                <i class="fas fa-play"></i>
                {{ i18n "join_worship" }}
            </a>
            <a href="#about" class="btn btn-secondary">
                <i class="fas fa-heart"></i>
                {{ i18n "learn_more" }}
            </a>
        </div>
    </div>

    <!-- Navigation Dots -->
    <div class="hero-dots" id="heroDots">
        <span class="hero-dot active" onclick="currentSlide(1)"></span>
        <span class="hero-dot" onclick="currentSlide(2)"></span>
        <span class="hero-dot" onclick="currentSlide(3)"></span>
        <span class="hero-dot" onclick="currentSlide(4)"></span>
    </div>
</section>

<!-- About Section -->
<section class="about" id="about">
    <div class="container">
        <div class="section-header">
            <h2>{{ i18n "about_ministry_title" }}</h2>
            <p>{{ i18n "about_ministry_desc" }}</p>
        </div>
        <div class="about-grid">
            {{ $lang := .Site.Language.Lang }}
            {{ range index .Site.Data.about.features $lang }}
            <div class="about-card fade-in">
                <i class="{{ .icon }}"></i>
                <h3>{{ .title }}</h3>
                <p>{{ .description }}</p>
            </div>
            {{ end }}
        </div>
    </div>
</section>

<!-- Services Section -->
<section class="services" id="services">
    <div class="container">
        <div class="section-header">
            <h2>{{ i18n "worship_programs_title" }}</h2>
            <p>{{ i18n "worship_programs_desc" }}</p>
        </div>
        <div class="services-grid">
            {{ $lang := .Site.Language.Lang }}
            {{ range index .Site.Data.services.programs $lang }}
            <div class="service-card fade-in">
                <div class="service-image" style="background-image: url('{{ .image }}');"></div>
                <div class="service-content">
                    <div class="service-time">{{ .time }}</div>
                    <h3>{{ .title }}</h3>
                    <p>{{ .description }}</p>
                </div>
            </div>
            {{ end }}
        </div>
    </div>
</section>

<!-- Messages Section -->
<section class="messages" id="messages">
    <div class="container">
        <div class="section-header">
            <h2>{{ i18n "recent_messages_title" }}</h2>
            <p>{{ i18n "recent_messages_desc" }}</p>
        </div>
        <div class="messages-grid">
            {{ $lang := .Site.Language.Lang }}
            {{ range index .Site.Data.messages.recent $lang }}
            <div class="message-card fade-in" data-video-id="{{ .youtube_id }}">
                <div class="message-thumbnail">
                    <img src="https://img.youtube.com/vi/{{ .youtube_id }}/maxresdefault.jpg" alt="{{ .title }}"
                        loading="lazy">
                    <div class="play-button">
                        <i class="fas fa-play"></i>
                    </div>
                    <div class="message-duration">{{ .duration }}</div>
                </div>
                <div class="message-content">
                    <div class="message-date">{{ .date }}</div>
                    <h3>{{ .title }}</h3>
                    <p class="message-speaker">
                        <i class="fas fa-user"></i>
                        {{ .speaker }}
                    </p>
                    <p class="message-description">{{ .description }}</p>
                    <div class="message-tags">
                        {{ range .tags }}
                        <span class="tag">{{ . }}</span>
                        {{ end }}
                    </div>
                </div>
            </div>
            {{ end }}
        </div>
        <div class="messages-cta">
            <a href="{{ .Site.Params.youtube_channel }}" class="btn btn-primary" target="_blank">
                <!-- <i class="fab fa-youtube"></i> -->
                {{ i18n "view_all_messages" }}
            </a>
        </div>
    </div>
</section>

<!-- Events Section -->
<section class="events" id="events">
    <div class="container">
        <div class="section-header">
            <h2>{{ i18n "upcoming_events_title" }}</h2>
            <p>{{ i18n "upcoming_events_desc" }}</p>
        </div>
        <div class="events-container">
            <div class="events-list">
                {{ $lang := .Site.Language.Lang }}
                {{ range index .Site.Data.events.upcoming $lang }}
                <div class="event-item fade-in">
                    <div class="event-date">{{ .date }}</div>
                    <h3>{{ .title }}</h3>
                    <p>{{ .description }}</p>
                </div>
                {{ end }}
            </div>
        </div>
    </div>
</section>

<!-- Leadership Section -->
<div class="leadership" id="leadership">
    <div class="container">
        <div class="section-header">
            <h2>{{ i18n "meet_pastors_title" }}</h2>
            <p>{{ i18n "meet_pastors_desc" }}</p>
        </div>
        <div class="leadership-grid">
            {{ $lang := .Site.Language.Lang }}
            {{ range first 2 (index .Site.Data.team.team $lang) }}
            <div class="team-card fade-in">
                <img src="{{ .image }}" alt="{{ .name }}" class="team-photo">
                <h3>{{ .name }}</h3>
                <p class="team-title">{{ .title }}</p>
                <p>{{ .description }}</p>
            </div>
            {{ end }}
        </div>

        <!-- Elders Full Width Card -->
        {{ $lang := .Site.Language.Lang }}
        {{ $teamData := index .Site.Data.team.team $lang }}
        {{ $elders := index $teamData 2 }}
        <div class="elder-card fade-in">
            <img src="{{ $elders.image }}" alt="{{ $elders.name }}" class="elder-photo">
            <div class="elder-content">
                <h3>{{ $elders.name }}</h3>
                <p class="team-title">{{ $elders.title }}</p>
                <p>{{ $elders.description }}</p>
            </div>
        </div>
    </div>
</div>

<!-- Contact Section -->
<section class="contact" id="contact">
    <div class="container">
        <div class="section-header">
            <h2 style="color: white;">{{ i18n "get_in_touch" }}</h2>
            <p style="color: rgba(255,255,255,0.8);">{{ i18n "contact_description" }}</p>
        </div>
        <div class="contact-grid">
            <div class="fade-in">
                <h3>{{ i18n "visit_us_title" }}</h3>
                <div class="contact-info">
                    <i class="fas fa-map-marker-alt"></i>
                    <div>
                        <strong>{{ .Site.Params.church.name }}</strong><br>
                        {{ .Site.Params.church.address.street }}<br>
                        {{ .Site.Params.church.address.city }}, {{ .Site.Params.church.address.state }} {{
                        .Site.Params.church.address.zip }}
                    </div>
                </div>
                <div class="contact-info">
                    <i class="fas fa-clock"></i>
                    <div>
                        <strong>{{ i18n "service_times_title" }}</strong><br>
                        {{ i18n "sunday_service" }} — {{ .Site.Params.services.sunday_worship }}<br>
                        {{ i18n "youth_meet" }} — {{ .Site.Params.services.youth_group }}<br>
                        {{ i18n "home_fellowship" }} — {{ .Site.Params.services.home_gather }}
                    </div>
                </div>
            </div>
            <div class="fade-in">
                <h3>{{ i18n "contact_info_title" }}</h3>
                <div class="contact-info">
                    <i class="fas fa-phone"></i>
                    <div>
                        <strong>{{ i18n "phone" }}</strong><br>
                        {{ .Site.Params.church.phone }}
                    </div>
                </div>
                <div class="contact-info">
                    <i class="fas fa-envelope"></i>
                    <div>
                        <strong>{{ i18n "email" }}</strong><br>
                        {{ .Site.Params.church.email }}
                    </div>
                </div>
            </div>
            <div class="fade-in">
                <h3>{{ i18n "connect_title" }}</h3>
                <p style="margin-bottom: 2rem;">{{ i18n "connect_desc" }}</p>
                <div class="social-links">
                    <a href="{{ .Site.Params.social.facebook }}"><i class="fab fa-facebook-f"></i></a>
                    <a href="{{ .Site.Params.social.instagram }}"><i class="fab fa-instagram"></i></a>
                    <a href="{{ .Site.Params.social.youtube }}"><i class="fab fa-youtube"></i></a>
                </div>
            </div>
        </div>
    </div>
</section>
{{ end }}